{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/img/error.png","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["'use strict';\nexport default function fetchImages(searchImagesQuery) {\n  const searchParams = new URLSearchParams({\n      key: '47257785-d72a0dbe5696a4dd8bfb23e2a',\n      q: `${searchImagesQuery}`,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n      per_page: 40,\n    }),\n    url = `https://pixabay.com/api/?${searchParams}`;\n\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEpSURBVHgBrZXtEcIgDIZTzp5/3URHcSPpJLpBXcVd+FPwiqQt1y+SUNv3DuUkvA+0SQQg5Jx7WOt8zsBYyudEmXsPuijg3bbtB1ipa/jQYQ+UZVmBpHjyprEvyBTGSjf52zwbssdchBxhTkI4c2vtTTJMxcwgw6RObZReXDycMSYBcTWuQX/6RqcMQpCmIOPNHbG30SKAgkjmU8AJBJ3PpQ5GOO2KCYVFGEaFa9J+EbCEDIAsc5SCTCkFPjWXlHWD2Jvw5MNP2b1HBEzN42OZvhMRwmURly1cCvfrszSlC41PxR6SKjQs3g4Qg6z9PpdBxsitIhWDXrPDcZCtWplHHQEhzY+AiOZ7IJz5qg5iWygK/wjfFwD+T18pdfXe37e0j07jTeTBPZYfWztI8097RKsAAAAASUVORK5CYII=\"","'use strict';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport errorImage from '../img/error.png';\n\niziToast.settings({\n  timeout: 5000,\n  resetOnHover: true,\n  icon: 'material-icons',\n  animateInside: false,\n  transitionIn: 'fadeIn',\n  transitionOut: 'fadeOut',\n  position: 'topRight',\n  titleColor: '#fff',\n  titleLineHeight: '24',\n  backgroundColor: '#ef4040',\n  progressBarColor: '#b51b1b',\n  messageColor: '#fff',\n  messageSize: '16',\n  messageLineHeight: '24',\n});\n\nexport const galleryShow = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n  captionClass: 'imageTitle',\n});\n\n// Функция вывода сообщений об ошибках\nexport function message(textMessage) {\n  iziToast.error({\n    class: 'error_message',\n    iconUrl: `${errorImage}`,\n    message: textMessage,\n  });\n}\n\n// Если поисковый запрос удачен, передать базу изображений в функцию создания галлереи. Иначе сообщить об отсутствии подходящий запросу изображений\nexport function checkData({ hits }) {\n  if (hits.length > 0) {\n    return renderData(hits);\n  }\n  throw 'Sorry, there are no images matching your search query. Please try again!';\n}\n\n// Создания галлереи\nfunction renderData(hits) {\n  const gallery = hits\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `<li class=\"gallery-item\">\n        <div class=\"image_prev\">\n  <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img class=\"gallery-image\"\n      src=\"${webformatURL}\"\n      alt=\"${tags}\" />\n  </a>\n  </div>\n  <div class=\"img_info\">\n  <ul class=\"information_list\">\n  <li>Likes</li>\n  <li>${likes}</li>\n  </ul>\n    <ul class=\"information_list\">\n  <li>Views</li>\n  <li>${views}</li>\n  </ul>\n    <ul class=\"information_list\">\n  <li>Comments</li>\n  <li>${comments}</li>\n  </ul>\n    <ul class=\"information_list\">\n  <li>Downloads</li>\n  <li>${downloads}</li>\n  </ul>\n  </div>\n</li>\n`;\n      }\n    )\n    .join('');\n  return gallery;\n}\n","'use strict';\nimport fetchImages from './js/pixabay-api.js';\nimport { message, checkData, galleryShow } from './js/render-functions.js';\n\nconst form = document.querySelector('.search-image-form'),\n  searchInputField = document.querySelector('.search-img'),\n  gallerySite = document.querySelector('.gallery'),\n  loaderImages = document.querySelector('.loader');\n\nform.addEventListener('submit', checkInput);\n\nfunction checkInput(e) {\n  e.preventDefault();\n  const searchText = searchInputField.value.trim(); // Поисковый запрос пользователя\n  form.reset(); // Очистка поля ввода поискового запроса\n  gallerySite.innerHTML = ''; // Удаление текущей галлереи изображений с сайта\n  loaderImages.style.display = 'block'; // Отоброзить прогресс загрузки результатов поиска\n  if (!searchText.length) {\n    message('Sorry, search query cannot be empty!'); // Если поле поиска пустое\n  } else {\n    fetchImages(searchText)\n      .then(data => checkData(data)) // Обработка введенного запроса\n      .then(gallery => {\n        loaderImages.style.display = 'none'; // Скрыть прогресс загрузки результатов поиска\n        gallerySite.innerHTML = gallery; // Отобразить найденные изображения\n        galleryShow.refresh(); // Обновление компонента просмотра увеличенных изображений\n      })\n      .catch(error => {\n        message(error); // Если ничего не найдено в базе изображений, отобразить сообщение об отсутствии результатов поиска по запросу\n        loaderImages.style.display = 'none'; // Скрыть прогресс загрузки результатов поиска\n      });\n  }\n}\n"],"names":["fetchImages","searchImagesQuery","searchParams","url","response","errorImage","iziToast","galleryShow","SimpleLightbox","message","textMessage","checkData","hits","renderData","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","searchInputField","gallerySite","loaderImages","checkInput","e","searchText","data","gallery","error"],"mappings":"6vBACe,SAASA,EAAYC,EAAmB,CACrD,MAAMC,EAAe,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAG,GAAGD,CAAiB,GACvB,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EAChB,CAAK,EACDE,EAAM,4BAA4BD,CAAY,GAEhD,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CACjC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CClBA,MAAeC,EAAA,qjBCQfC,EAAS,SAAS,CAChB,QAAS,IACT,aAAc,GACd,KAAM,iBACN,cAAe,GACf,aAAc,SACd,cAAe,UACf,SAAU,WACV,WAAY,OACZ,gBAAiB,KACjB,gBAAiB,UACjB,iBAAkB,UAClB,aAAc,OACd,YAAa,KACb,kBAAmB,IACrB,CAAC,EAEM,MAAMC,EAAc,IAAIC,EAAe,aAAc,CAC1D,aAAc,MACd,aAAc,IACd,aAAc,YAChB,CAAC,EAGM,SAASC,EAAQC,EAAa,CACnCJ,EAAS,MAAM,CACb,MAAO,gBACP,QAAS,GAAGD,CAAU,GACtB,QAASK,CACb,CAAG,CACH,CAGO,SAASC,EAAU,CAAE,KAAAC,GAAQ,CAClC,GAAIA,EAAK,OAAS,EAChB,OAAOC,EAAWD,CAAI,EAExB,KAAM,0EACR,CAGA,SAASC,EAAWD,EAAM,CA2CxB,OA1CgBA,EACb,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA;AAAA,kCAEmBL,CAAa;AAAA;AAAA,aAElCD,CAAY;AAAA,aACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAMTC,CAAK;AAAA;AAAA;AAAA;AAAA,QAILC,CAAK;AAAA;AAAA;AAAA;AAAA,QAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,QAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,CAMZ,EACA,KAAK,EAAE,CAEZ,CCzFA,MAAMC,EAAO,SAAS,cAAc,oBAAoB,EACtDC,EAAmB,SAAS,cAAc,aAAa,EACvDC,EAAc,SAAS,cAAc,UAAU,EAC/CC,EAAe,SAAS,cAAc,SAAS,EAEjDH,EAAK,iBAAiB,SAAUI,CAAU,EAE1C,SAASA,EAAWC,EAAG,CACrBA,EAAE,eAAc,EAChB,MAAMC,EAAaL,EAAiB,MAAM,KAAI,EAC9CD,EAAK,MAAK,EACVE,EAAY,UAAY,GACxBC,EAAa,MAAM,QAAU,QACxBG,EAAW,OAGd3B,EAAY2B,CAAU,EACnB,KAAKC,GAAQjB,EAAUiB,CAAI,CAAC,EAC5B,KAAKC,GAAW,CACfL,EAAa,MAAM,QAAU,OAC7BD,EAAY,UAAYM,EACxBtB,EAAY,QAAO,CAC3B,CAAO,EACA,MAAMuB,GAAS,CACdrB,EAAQqB,CAAK,EACbN,EAAa,MAAM,QAAU,MACrC,CAAO,EAZHf,EAAQ,sCAAsC,CAclD"}